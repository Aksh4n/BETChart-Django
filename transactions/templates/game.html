<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>bet on candles!</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/headers/">

    

    <!-- Bootstrap core CSS -->
<link href="https://getbootstrap.com/docs/5.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Favicons -->
    <!-- Favicons -->
    <link rel="apple-touch-icon" href="https://photo20.ir/images/ov4f7l1ywseqtryvikyl.jpeg" sizes="180x180">
    <link rel="icon" href="https://photo20.ir/images/ov4f7l1ywseqtryvikyl.jpeg" sizes="32x32" type="image/png">
    <link rel="icon" href="https://photo20.ir/images/ov4f7l1ywseqtryvikyl.jpeg" sizes="16x16" type="image/png">
    <link rel="manifest" href="https://getbootstrap.com/docs/5.1/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="https://photo20.ir/images/ov4f7l1ywseqtryvikyl.jpeg" color="#7952b3">
    <link rel="icon" href="https://photo20.ir/images/ov4f7l1ywseqtryvikyl.jpeg">
    <meta name="theme-color" content="#7952b3">
    {% load  static %}
    

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

    
    <!-- Custom styles for this template -->
    <style>
        .b-example-divider {
  height: 3rem;
  background-color: rgba(0, 0, 0, .1);
  border: solid rgba(0, 0, 0, .15);
  border-width: 1px 0;
  box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
}

.form-control-dark {
  color: #fff;
  background-color: var(--bs-dark);
  border-color: var(--bs-gray);
}
.form-control-dark:focus {
  color: #fff;
  background-color: var(--bs-dark);
  border-color: #fff;
  box-shadow: 0 0 0 .25rem rgba(255, 255, 255, .25);
}

.bi {
  vertical-align: -.125em;
  fill: currentColor;
}

.text-small {
  font-size: 85%;
}

.dropdown-toggle {
  outline: 0;
}

    </style>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-kjU+l4N0Yf4ZOJErLsIcvOU2qSb74wXpOhqTvwVx3OElZRweTnQ6d31fXEoRD1Jy" crossorigin="anonymous"></script>
    
    

  </head>





<header>



    <div class="px-3 py-2 bg-black text-white">
      <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">

          <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">
            <li>
              <a href=" {% url 'home' %}" class="nav-link text-white ">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
                    <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"/>
                  </svg>
                Home
              </a>
            </li>
            <li>
              <a href=" {% url 'logout' %}" class="nav-link text-white">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
                    <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
                  </svg>
                Logout
              </a>
            </li>
            <li>
              <a href=" {% url 'profile' %}" class="nav-link text-white">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                  </svg>
                Profile
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
 
        </form>
     
  </header>
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }


  </style>

  
</head>
<body>
  
<main>
<div class="container py-4">
  <header class="pb-3 mb-4 border-bottom">
    <a class=" align-items-center text-dark text-decoration-none">
        <svg class="bd-placeholder-img" width="25px" height="25px" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#777"/><image xlink:href="https://photo20.ir/images/ov4f7l1ywseqtryvikyl.jpeg"
            x="0" y="0" height="100%" width="100%"  preserveAspectRatio="none"/></svg>
  
      <span style="font-weight: bold;font-size: large;" >Ballance:<strong id="balance">{{user.account.balance}}</strong>$</span>      <span style="font-weight: bold;background-color: rgba(184, 135, 11, 0.403); font-size: large; float: right;" >TotalPOT:<strong id="pot">{{ data }}</strong>$</span>
 


    </a>
  </header>
  <script>
    function startLiveUpdate () {
      const textViewCount = document.getElementById('pot');
  
      setInterval(function () {
        fetch('{% url "pot" %}').then(function (response) {
          return response.json();
        }) .then(function (data) {
          textViewCount.textContent = data.pot;
        }) .catch(function (error) {
          console.log(error);
  
        });
      }, 2000);
    }
  
    document.addEventListener('DOMContentLoaded', function () {
      startLiveUpdate();
    });
  
    </script>
      <script>
        function startLiveUpdate2 () {
          const textViewCount = document.getElementById('balance');
      
          setInterval(function () {
            fetch('{% url "ballance" %}').then(function (response) {
              return response.json();
            }) .then(function (data) {
              textViewCount.textContent = data.balance;
            }) .catch(function (error) {
              console.log(error);
      
            });
          }, 2000);
        }
      
        document.addEventListener('DOMContentLoaded', function () {
          startLiveUpdate2();
        });
      
        </script>
    
  

<!-- TradingView Widget BEGIN -->
<style>
    div.tradingview-widget-container {
        height: 300px;

    }
    div.jafar {
        height: 100%;
    }
</style>
<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
  <div class="jafar" id="tradingview_75429"></div>
  <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/symbols/BTCUSDT/?exchange=KUCOIN" rel="noopener" target="_blank"><span class="blue-text">BTCUSDT Chart</span></a> by TradingView</div>
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script type="text/javascript">
  new TradingView.widget(
  {
  "autosize": true,
  "symbol": "KUCOIN:BTCUSDT",
  "interval": "3",
  "timezone": "Etc/UTC",
  "theme": "dark",
  "style": "1",
  "locale": "en",
  "toolbar_bg": "#f1f3f6",
  "enable_publishing": false,
  "container_id": "tradingview_75429"
}
  );
  </script>
</div>
<!-- TradingView Widget END -->

  

  <style>
      div.jafari {
          background-color: red;
      }
      div.jafarii {
          background-color: green;
          
      }
      div.bet {
          
          padding-top: 50px;
          
          
          
          
      }
      div.info {
          float: right;
          
          padding-top: 50px;
      }

  </style>


{% if form.amount.errors %}
    {% for error in form.amount.errors %}

    <br>
    <p style="color:red; font-weight: bold;" class="text-red-600 text-sm italic pb-2">{{ error }}</p>
    {% endfor %}
{% endif %}

<div style="display:none;" class="alert alert-success" id="alert">
  <strong>Success! </strong> Bet placed.
</div>        





  <div class=" bet ">

      <div style=" width: 50%; float: right;" >
        <div  class=" jafarii h-100 p-5 text-white  border rounded-3">
          <p style="font-weight: bold;">bet on</p>

          <button style="font-weight: bold; width: 100%;" class="btn btn-outline-light" type="button" data-toggle="modal" data-target="#exampleModal2" >GREEN</button>
        </div>
      </div>

  
    

<!-- Modal -->
<div style="color:black ;" class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Place  bet on RED</h5>
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form method="post" id="red" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
          {% csrf_token %}
  
          <div class="mb-4">
              <label style="font-weight:bold ;" class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                  Amount : 5$
              </label>
              <p>by click on submit button you,re palcing a bet on current candle to be close on red color </p>
          </div>
          {% if form.amount.errors %}
              {% for error in form.amount.errors %}
                  <p class="text-red-600 text-sm italic pb-2">{{ error }}</p>
              {% endfor %}
          {% endif %}

          <button style="background-color:red ;" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
              Submit!
          </button>
      </form>

  
        
      </div>
      <div class="modal-footer">
        <button type="button" id="closemodal" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>  
    
<div style="width: 50%;">
  <div class=" jafari h-100 p-5 text-white  border rounded-3">
    <p style="font-weight: bold;">bet on</p>

    <button style="font-weight: bold; width: 100%;" class="btn btn-outline-light" type="button" data-toggle="modal" data-target="#exampleModal" >RED</button>
  </div>
  </div>
</div>



  <div style="color:black ;" class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5  class="modal-title" id="exampleModalLabel">Place  bet on GREEN</h5>
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form action="{% url 'transactions:betgreen' %}"  method="post" id="green" class=" bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4" id="green">
            {% csrf_token %}


           

          
    
            <div class="mb-4">
                <label style="font-weight:bold ;" class="block text-gray-700 text-sm font-bold mb-2" for="amount">
                    Amount : 5$
                </label>
                <p>by click on submit button you,re palcing a bet on current candle to be close on green color </p>

            </div>
            {% if form.amount.errors %}
                {% for error in form.amount.errors %}
                    <p class="text-red-600 text-sm italic pb-2">{{ error }}</p>
                {% endfor %}
            {% endif %}
            <button style="background-color:green ;" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                Submit!
            </button>
        </form>
    
          
        </div>
        <div class="modal-footer">
          <button id="closemodal2" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>  
<hr>
<div style="display: flex; align-items:center; justify-content:center; font-weight:bold;">Candle LifeTime</div> 

  <div class="progress">
    
    
    <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated bg-warning " role="progressbar" style="width: 0%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
  </div>

  <hr>

    <div style=" width: 50%; float: right; ">
      <div style="background-color:rgba(235, 206, 91, 0.382) ; height: 100%;"  class="h-100 p-5  border rounded-3">
        <h2 style="font-weight:bold ; font-size: large; color: green;">Greens: <strong id="gc">{{ greencount }}</strong> </h2>
        <script>
          function startLiveUpdate6 () {
            const textViewCount = document.getElementById('gc');
        
            setInterval(function () {
              fetch('{% url "count" %}').then(function (response) {
                return response.json();
              }) .then(function (data) {
                textViewCount.textContent = data.gc;
              }) .catch(function (error) {
                console.log(error);
        
              });
            }, 3000);
          }
        
          document.addEventListener('DOMContentLoaded', function () {
            startLiveUpdate6();
          });
        
          </script>

        <p style="color:green ;"><strong ><ul style="color: green; font-weight: bold;" id="gmembers"></ul></strong> </p>

        <script>
          function startLiveUpdate3 () {
            const textViewCount = document.getElementById('gmembers');

        
            setInterval(function () {
              fetch('{% url "gmember" %}').then(function (response) {
                return response.json();
              }) .then(function (data) {    

                    textViewCount.textContent = JSON.stringify(data, null, "\t").replace(/{/g,'').replace(/}/g,'').replace(/:/g,'').replace(/"a"/g,'').replace(/"/g,'').replace('[','').replace(']','')
                    

                    

                  

                
                
              }) .catch(function (error) {
                console.log(error);
        
              });
            }, 3000);
            
           
          }
        
          document.addEventListener('DOMContentLoaded', function () {
            
            startLiveUpdate3();
          });
        
          </script>
      


      </div>
    </div>
    <div style=" width: 50%;">
      
  
    
      <div style="background-color: rgba(235, 206, 91, 0.5) ; height: 100%;  " class="h-100 p-5   rounded-3">
        <h2 style="font-weight:bold ; font-size: large; color:red;">Reds:<strong id="rc">{{ redcount }}</strong>  </h2>
        <script>
          function startLiveUpdate5 () {
            const textViewCount = document.getElementById('rc');
        
            setInterval(function () {
              fetch('{% url "count" %}').then(function (response) {
                return response.json();
              }) .then(function (data) {
                textViewCount.textContent = data.rc;
              }) .catch(function (error) {
                console.log(error);
        
              });
            }, 3000);
          }
        
          document.addEventListener('DOMContentLoaded', function () {
            startLiveUpdate5();
          });
        
          </script>
      


        <p style="color:rgb(231, 0, 12) ;"><strong ><ul style="color: red; font-weight: bold;" id="rmembers"></ul></strong> </p>


      </div>
    </div>
    <script>
      function startLiveUpdate4 () {
        const textViewCount = document.getElementById('rmembers');

    
        setInterval(function () {
          fetch('{% url "rmember" %}').then(function (response) {
            return response.json();
          }) .then(function (data) {    

                textViewCount.textContent = JSON.stringify(data, null, "\t").replace(/{/g,'').replace(/}/g,'').replace(/:/g,'').replace(/"a"/g,'').replace(/"/g,'').replace('[','').replace(']','')
                

                

              

            
            
          }) .catch(function (error) {
            console.log(error);
    
          });
        }, 3000);
        
       
      }
    
      document.addEventListener('DOMContentLoaded', function () {
        
        startLiveUpdate4();
      });
    
      </script>




  <footer class="pt-3 mt-4 text-muted border-top">
  
    &copy; 2022  
  </footer>
</div>
</main>


  
</body>
</html>

</main>


<script>
  
const form = document.getElementById('green');
form.addEventListener("submit",submitHandler);



function submitHandler(e) {
    var serializedData = $(this).serialize();
    e.preventDefault();
    $.ajax({

        url: '{% url "transactions:betgreen" %}',
        type: 'POST' , 
        data: serializedData  ,
        dataType: 'json',
        success: function (data) {
            if (data.msg === 'betgreen') {

              $('#closemodal2').click();
              

              $('#exampleModal2').modal('dispose');
              $(".modal-backdrop").remove();
              $("#alert").fadeTo(2000, 500).slideUp(500, function(){
    $("#alert").slideUp(500);
});
              
      }  
      
    } 
 }) 
 
 
}
</script>
<script>

const form2 = document.getElementById('red');
form2.addEventListener("submit",submitHandler);



function submitHandler(ee) {
    var serializedData = $(this).serialize();
    ee.preventDefault();
    $.ajax({


      url: '{% url "transactions:bet_money" %}',

        type: 'POST' , 
        data: serializedData  ,
        dataType: 'json',
        success: function (data) {
            if (data.msg === 'betred') {
              $('#closemodal').click();
              

              $('#exampleModal').modal('dispose');

              $(".modal-backdrop").remove();
              $("#alert").fadeTo(2000, 500).slideUp(500, function(){
    $("#alert").slideUp(500);
});


              
              
      }  
      
    } 
 }) 
 
 
}

</script>

<script>
  
  // Set the width to animate the progress bar
  // Along with time duration in milliseconds
  function progressload() {


  setInterval(function(){

    $(".progress-bar").animate({
          width: "100%",
  }, 180000);
}, 180000);
  }

  document.addEventListener('DOMContentLoaded', function () {
        
        progressload();
      });
  
</script>


      
  </body>
</html>
